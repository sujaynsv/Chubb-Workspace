// Immutable record for Account
record Account(String name, double balance) {

    // return a new Account with updated balance
    public Account withBalance(double newBalance) {
        return new Account(name, newBalance);
    }
}

// Immutable record for Transfer Request
record TransferRequest(Account from, Account to, double amount) {}

public class FundTransferDemo {
    public static void main(String[] args) {

        Account a1 = new Account("Alice", 1000.0);
        Account a2 = new Account("Bob", 500.0);

        TransferRequest req = new TransferRequest(a1, a2, 200.0);

        // Perform transfer (immutably)
        Account updatedFrom = req.from().withBalance(req.from().balance() - req.amount());
        Account updatedTo   = req.to().withBalance(req.to().balance() + req.amount());

        // Print results
        System.out.println("=== After Transfer ===");
        System.out.println(updatedFrom.name() + " balance: " + updatedFrom.balance());
        System.out.println(updatedTo.name() + " balance: "   + updatedTo.balance());
    }
}
